const WARN = 1

module.exports = {
	env: {
		browser: true,
		es2020: true,
		node: true,
	},

	extends: [
		'plugin:@typescript-eslint/eslint-recommended',
	],

	globals: {
		document: 'readonly',
		navigator: 'readonly',
		window: 'readonly',
		Atomics: 'readonly',
		SharedArrayBuffer: 'readonly',
	},

	parser: '@typescript-eslint/parser',

	parserOptions: {
		ecmaFeatures: {
			globalReturn: false,
			impliedStrict: true,
			jsx: true,
		},
		ecmaVersion: 2020,
		sourceType: 'module',
	},

	plugins: [
		'@typescript-eslint',
		'import',
		'node',
		'promise',
	],

	rules: {
		'accessor-pairs': WARN,
		'array-bracket-spacing': [WARN, 'never'],
		'arrow-parens': [WARN, 'always'],
		'arrow-spacing': [WARN, { before: true, after: true }],
		'block-spacing': [WARN, 'always'],
		'brace-style': [WARN, '1tbs', { allowSingleLine: true }],
		'camelcase': [WARN, { properties: 'never' }],
		'comma-dangle': [WARN, 'always-multiline'],
		'comma-spacing': [WARN, { before: false, after: true }],
		'comma-style': [WARN, 'last'],
		'computed-property-spacing': [WARN, 'never'],
		'constructor-super': WARN,
		'curly': [WARN, 'multi-line'],
		'dot-location': [WARN, 'property'],
		'dot-notation': [WARN, { allowKeywords: true }],
		'eol-last': WARN,
		'eqeqeq': [WARN, 'always', { null: 'ignore' }],
		'func-call-spacing': [WARN, 'never'],
		'generator-star-spacing': [WARN, { before: true, after: true }],
		'handle-callback-err': [WARN, '^(err|error)$'],
		'indent': [WARN, 'tab', {
			SwitchCase: 1,
			VariableDeclarator: 1,
			outerIIFEBody: 1,
			MemberExpression: 1,
			FunctionDeclaration: { parameters: 1, body: 1 },
			FunctionExpression: { parameters: 1, body: 1 },
			CallExpression: { arguments: 1 },
			ArrayExpression: 1,
			ObjectExpression: 1,
			ImportDeclaration: 1,
			flatTernaryExpressions: false,
			ignoreComments: false,
			ignoredNodes: ['TemplateLiteral *'],
		}],
		'key-spacing': [WARN, { beforeColon: false, afterColon: true }],
		'keyword-spacing': [WARN, { before: true, after: true }],
		'linebreak-style': [WARN, 'unix'],
		'lines-between-class-members': [WARN, 'always', { exceptAfterSingleLine: true }],
		'new-cap': [WARN, { newIsCap: true, capIsNew: false, properties: true }],
		'new-parens': WARN,
		'no-array-constructor': WARN,
		'no-async-promise-executor': WARN,
		'no-caller': WARN,
		'no-case-declarations': WARN,
		'no-class-assign': WARN,
		'no-compare-neg-zero': WARN,
		'no-cond-assign': WARN,
		'no-const-assign': WARN,
		'no-constant-condition': [WARN, { checkLoops: false }],
		'no-control-regex': WARN,
		'no-debugger': WARN,
		'no-delete-var': WARN,
		'no-dupe-args': WARN,
		'no-dupe-class-members': WARN,
		'no-dupe-keys': WARN,
		'no-duplicate-case': WARN,
		'no-empty-character-class': WARN,
		'no-empty-pattern': WARN,
		'no-eval': WARN,
		'no-ex-assign': WARN,
		'no-extend-native': WARN,
		'no-extra-bind': WARN,
		'no-extra-boolean-cast': WARN,
		'no-extra-parens': [WARN, 'functions'],
		'no-fallthrough': WARN,
		'no-floating-decimal': WARN,
		'no-func-assign': WARN,
		'no-global-assign': WARN,
		'no-implied-eval': WARN,
		'no-inner-declarations': [WARN, 'functions'],
		'no-invalid-regexp': WARN,
		'no-irregular-whitespace': WARN,
		'no-iterator': WARN,
		'no-labels': [WARN, { allowLoop: false, allowSwitch: false }],
		'no-lone-blocks': WARN,
		'no-misleading-character-class': WARN,
		'no-prototype-builtins': WARN,
		'no-useless-catch': WARN,
		'no-mixed-operators': [WARN, {
			groups: [
				['==', '!=', '===', '!==', '>', '>=', '<', '<='],
				['&&', '||'],
				['in', 'instanceof'],
			],
			allowSamePrecedence: true,
		}],
		'no-mixed-spaces-and-tabs': WARN,
		'no-multi-spaces': WARN,
		'no-multi-str': WARN,
		'no-multiple-empty-lines': [WARN, { max: 1, maxEOF: 0 }],
		'no-negated-in-lhs': WARN,
		'no-new': WARN,
		'no-new-func': WARN,
		'no-new-object': WARN,
		'no-new-require': WARN,
		'no-new-symbol': WARN,
		'no-new-wrappers': WARN,
		'no-obj-calls': WARN,
		'no-octal': WARN,
		'no-octal-escape': WARN,
		'no-path-concat': WARN,
		'no-proto': WARN,
		'no-redeclare': [WARN, { builtinGlobals: false }],
		'no-regex-spaces': WARN,
		'no-return-assign': [WARN, 'except-parens'],
		'no-return-await': WARN,
		'no-self-assign': [WARN, { props: true }],
		'no-self-compare': WARN,
		'no-sequences': WARN,
		'no-shadow-restricted-names': WARN,
		'no-sparse-arrays': WARN,
		'no-template-curly-in-string': WARN,
		'no-this-before-super': WARN,
		'no-throw-literal': WARN,
		'no-trailing-spaces': WARN,
		'no-undef': WARN,
		'no-undef-init': WARN,
		'no-unexpected-multiline': WARN,
		'no-unmodified-loop-condition': WARN,
		'no-unneeded-ternary': [WARN, { defaultAssignment: false }],
		'no-unreachable': WARN,
		'no-unsafe-finally': WARN,
		'no-unsafe-negation': WARN,
		'no-unused-expressions': [WARN, { allowShortCircuit: true, allowTernary: true, allowTaggedTemplates: true }],
		'no-unused-vars': [WARN, { vars: 'all', args: 'none', ignoreRestSiblings: true }],
		'no-use-before-define': [WARN, { functions: false, classes: false, variables: false }],
		'no-useless-call': WARN,
		'no-useless-computed-key': WARN,
		'no-useless-constructor': WARN,
		'no-useless-escape': WARN,
		'no-useless-rename': WARN,
		'no-useless-return': WARN,
		'no-void': WARN,
		'no-whitespace-before-property': WARN,
		'no-with': WARN,
		'object-curly-newline': [WARN, { multiline: true, consistent: true }],
		'object-curly-spacing': [WARN, 'always'],
		'object-property-newline': [WARN, { allowMultiplePropertiesPerLine: true }],
		'one-var': [WARN, { initialized: 'never' }],
		'operator-linebreak': [WARN, 'after', { overrides: { '?': 'before', ':': 'before', '|>': 'before' } }],
		'padded-blocks': [WARN, { blocks: 'never', switches: 'never', classes: 'never' }],
		'prefer-const': [WARN, { destructuring: 'all' }],
		'prefer-promise-reject-errors': WARN,
		'quote-props': [WARN, 'consistent-as-needed'],
		'quotes': [WARN, 'single', { avoidEscape: true, allowTemplateLiterals: false }],
		'rest-spread-spacing': [WARN, 'never'],
		'semi': [WARN, 'never'],
		'semi-spacing': [WARN, { before: false, after: true }],
		'space-before-blocks': [WARN, 'always'],
		'space-before-function-paren': [WARN, 'always'],
		'space-in-parens': [WARN, 'never'],
		'space-infix-ops': WARN,
		'space-unary-ops': [WARN, { words: true, nonwords: false }],
		'spaced-comment': [WARN, 'always', {
			line: {
				markers: ['*package', '!', '/', ',', '='],
			},
			block: {
				balanced: true,
				markers: ['*package', '!', ',', ':', '::', 'flow-include'],
				exceptions: ['*'],
			},
		}],
		'symbol-description': WARN,
		'template-curly-spacing': [WARN, 'never'],
		'template-tag-spacing': [WARN, 'never'],
		'unicode-bom': [WARN, 'never'],
		'use-isnan': WARN,
		'valid-typeof': [WARN, { requireStringLiterals: true }],
		'wrap-iife': [WARN, 'any', { functionPrototypeMethods: true }],
		'yield-star-spacing': [WARN, 'both'],
		'yoda': [WARN, 'never'],

		'import/export': WARN,
		'import/first': WARN,
		'import/no-absolute-path': [WARN, { esmodule: true, commonjs: true, amd: false }],
		'import/no-duplicates': WARN,
		'import/no-named-default': WARN,
		'import/no-webpack-loader-syntax': WARN,

		'node/no-deprecated-api': WARN,
		'node/process-exit-as-throw': WARN,

		'promise/param-names': WARN,
	},
}
